{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/论坛/Tea House Chat-client/pages/intro/intro.vue?3a81","webpack:///E:/论坛/Tea House Chat-client/pages/intro/intro.vue?86c8","webpack:///E:/论坛/Tea House Chat-client/pages/intro/intro.vue?8a1a","uni-app:///pages/intro/intro.vue","webpack:///E:/论坛/Tea House Chat-client/pages/intro/intro.vue?7625","webpack:///E:/论坛/Tea House Chat-client/pages/intro/intro.vue?b64b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","loading","article","comments","isLiked","isCollected","content","id","onLoad","console","methods","onInput","submitComment","key","success","uni","url","method","articleId","title","icon","duration","fail","getArticle","getCommentList","res","result","item","like","userId","getLike","share","imageUrl","path","collect","toggleLike","commentId"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC4K;AAC5K,gBAAgB,qLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAkoB,CAAgB,upBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCwHtpB;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;IACAC;IACA;IACA;IACA;IACA;IACA;IACAA;EACA;EACAC;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACAjB;QACAkB;QACAC;UACAC;YACAC;YACAC;YACAjB;cACAkB;cACAZ;YACA;YACAQ;cACA;cACAC;gBACAI;gBACAC;gBACAC;cACA;cACA;cACA;YACA;YACAC;cACAb;cACAM;gBACAI;gBACAC;gBACAC;cACA;YACA;UACA;QACA;QACAC;UACAP;YACAI;YACAC;YACAC;UACA;QACA;MACA;IACA;IACAE;MAAA;MACA;MACAR;QACAC;QACAF;UACA;UACA;UACA;UACA;QACA;QACAQ;UACAb;QACA;MACA;IACA;IACAe;MAAA;MACA;MACA7B;QACAkB;QACAC;UACAC;YACAC;YACAF;cACAW;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBACAC;gBACA;kBACAA;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBACA;gBACAC;cACA;cACA;cACA;cACAlB;YACA;YACAa;cACAb;YACA;UACA;QACA;QACAa;UACAP;YACAC;YACAF;cACAW;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBACAC;gBACA;kBACAA;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBACA;gBACAC;cACA;cACA;cACA;cACAlB;YACA;YACAa;cACAb;YACA;UACA;QACA;MACA;IACA;IACAmB;MAAA;MACAjC;QACAkB;QACAC;UACAC;YACAC;YACAC;YACAjB;cACAkB;cACAW;YACA;YACAf;cACA;gBACA;cACA;gBACA;cACA;cACA;YACA;YACAQ;cACAb;YACA;UACA;QACA;QACAa;UACAP;YACAI;YACAC;YACAC;UACA;QACA;MACA;IACA;IACAS;MAAA;MACAnC;QACAkB;QACAC;UACAC;YACAC;YACAC;YACAjB;cACAkB;cACAW;YACA;YACAf;cACAL;cACA;YACA;YACAa;cACAb;YACA;UACA;QACA;QACAa;UACAP;YACAI;YACAC;YACAC;UACA;QACA;MACA;IACA;IACAU;MACA;MACA;MACA;MACA;QACAZ;QACAa;QACAC;MACA;IACA;IACAC;MAAA;MACAzB;MACAM;QACAC;QACAC;QACAjB;UACAO;QACA;QACAO;UACAL;UACA;YACA;UACA;YACA;UACA;QACA;QACAa;UACAb;QACA;MACA;IACA;IACA0B;MAAA;MACAxC;QACAkB;QACAC;UACAC;YACAC;YACAC;YACAjB;cACAoC;cACAP;YACA;YACAf;cACA;YACA;YACAQ;cACAb;YACA;UACA;QACA;QACAa;UACAP;YACAI;YACAC;YACAC;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpZA;AAAA;AAAA;AAAA;AAAk6B,CAAgB,45BAAG,EAAC,C;;;;;;;;;;;ACAt7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/intro/intro.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/intro/intro.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./intro.vue?vue&type=template&id=48ab64a0&\"\nvar renderjs\nimport script from \"./intro.vue?vue&type=script&lang=js&\"\nexport * from \"./intro.vue?vue&type=script&lang=js&\"\nimport style0 from \"./intro.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/intro/intro.vue\"\nexport default component.exports","export * from \"-!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./intro.vue?vue&type=template&id=48ab64a0&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.comments, function (comment, index) {\n    var $orig = _vm.__get_orig(comment)\n    var g0 = comment.images && comment.images.length > 0\n    return {\n      $orig: $orig,\n      g0: g0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./intro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./intro.vue?vue&type=script&lang=js&\"","<template>\n\t<!-- 文章内容 -->\n\t<view\n\t\tclass=\"article\"\n\t\t:onLoad=\"handleLoad\">\n\t\t<view\n\t\t\tv-if=\"!loading\"\n\t\t\tclass=\"background\">\n\t\t\t<view class=\"container\">\n\t\t\t\t<view class=\"title\">{{ article.title }}</view>\n\t\t\t\t<view class=\"content\">{{ article.content }}</view>\n\t\t\t\t<view class=\"actions\">\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"action\"\n\t\t\t\t\t\t@click=\"like\">\n\t\t\t\t\t\t<image\n\t\t\t\t\t\t\t:src=\"isLiked ? '../../icon/liked.png' : '../../icon/like.png'\"\n\t\t\t\t\t\t\t:class=\"{ liked: isLiked }\" />\n\t\t\t\t\t\t<!-- 点赞 -->\n\t\t\t\t\t\t<view class=\"like-count\">{{ article.likes }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<button open-type=\"share\" class=\"action\">\n\t\t\t\t\t  分享\n\t\t\t\t\t</button>\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"action\"\n\t\t\t\t\t\t@click=\"collect\">\n\t\t\t\t\t\t<image\n\t\t\t\t\t\t\t:src=\"\n\t\t\t\t\t\t\t\tisCollected ? '../../icon/crollerd.png' : '../../icon/croller.png'\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t:class=\"{ collected: isCollected }\" />\n\t\t\t\t\t\t<!-- 收藏 -->\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 加载中 -->\n\t\t<view\n\t\t\tv-else\n\t\t\tclass=\"loading\">\n\t\t\t<text>加载中...</text>\n\t\t</view>\n\t\t<!-- 评论 -->\n\t\t<view\n\t\t\tclass=\"comments\"\n\t\t\t:onLoad=\"handleLoad\">\n\t\t\t<view class=\"container\">\n\t\t\t\t<!-- 发表评论 -->\n\t\t\t\t<view class=\"comment-input\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"写下你的评论...\"\n\t\t\t\t\t\tv-model.trim=\"content\"\n\t\t\t\t\t\t@confirm=\"submitComment\" />\n\t\t\t\t\t<button @tap=\"submitComment\">发送</button>\n\t\t\t\t</view>\n\t\t\t\t<!-- 评论列表 -->\n\t\t\t\t<view class=\"comment-list\">\n\t\t\t\t\t<!-- 评论项 -->\n\t\t\t\t\t<view\n\t\t\t\t\t\tclass=\"comment-item\"\n\t\t\t\t\t\tv-for=\"(comment, index) in comments\"\n\t\t\t\t\t\t:key=\"index\">\n\t\t\t\t\t\t<!-- 评论者头像 -->\n\t\t\t\t\t\t<image\n\t\t\t\t\t\t\tclass=\"avatar\"\n\t\t\t\t\t\t\t:src=\"comment.avatarUrl\"\n\t\t\t\t\t\t\tmode=\"aspectFill\" />\n\t\t\t\t\t\t<!-- 评论内容 -->\n\t\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t\t<!-- 评论者昵称 -->\n\t\t\t\t\t\t\t\t<text class=\"nickname\">{{ comment.nickName }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- 评论正文 -->\n\t\t\t\t\t\t\t<text class=\"text\">{{ comment.content }}</text>\n\t\t\t\t\t\t\t<!-- 评论图片 -->\n\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\tclass=\"images\"\n\t\t\t\t\t\t\t\tv-if=\"comment.images && comment.images.length > 0\">\n\t\t\t\t\t\t\t\t<image\n\t\t\t\t\t\t\t\t\tclass=\"image-item\"\n\t\t\t\t\t\t\t\t\tv-for=\"(image, i) in comment.images\"\n\t\t\t\t\t\t\t\t\t:key=\"i\"\n\t\t\t\t\t\t\t\t\t:src=\"image\"\n\t\t\t\t\t\t\t\t\tmode=\"aspectFill\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- 评论时间和操作 -->\n\t\t\t\t\t\t\t<view class=\"actions\">\n\t\t\t\t\t\t\t\t<text class=\"time\">{{ comment.time }}</text>\n\t\t\t\t\t\t\t\t<view class=\"buttons\">\n\t\t\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\t\t\tclass=\"button-item\"\n\t\t\t\t\t\t\t\t\t\t@tap=\"toggleLike(comment)\">\n\t\t\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\t\t\tclass=\"iconfont\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t\t\t'icon-like': !comment.liked,\n\t\t\t\t\t\t\t\t\t\t\t\t'icon-liked': comment.liked\n\t\t\t\t\t\t\t\t\t\t\t}\"></text>\n\t\t\t\t\t\t\t\t\t\t<text>{{ comment.likes }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\t\t\tclass=\"button-item\"\n\t\t\t\t\t\t\t\t\t\t@tap=\"reply(comment)\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"iconfont icon-comment\"></text>\n\t\t\t\t\t\t\t\t\t\t<text>{{ comment.replies }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloading: true, // 是否正在加载文章\n\t\t\t\tarticle: {}, // 文章内容\n\t\t\t\tcomments: [], // 评论列表\n\t\t\t\tisLiked: false, // 是否已经点赞\n\t\t\t\tisCollected: false, // 是否已经收藏\n\t\t\t\tcontent: '', // 评论内容\n\t\t\t\tid: 0\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\t// 页面加载时向后端发送请求获取文章内容和评论列表\n\t\t\tconsole.log(\"开始请求页面加载所需要的数据\")\n\t\t\tthis.getArticle(options.id)\n\t\t\tthis.getCommentList(options.id)\n\t\t\tthis.collect(options.id)\n\t\t\tthis.getLike()\n\t\t\tthis.id = options.id\n\t\t\tconsole.log(\"请求页面所需要的数据加载完毕\")\n\t\t},\n\t\tmethods: {\n\t\t\tonInput(e) {\n\t\t\t\tthis.textNum = e.detail.value.length\n\t\t\t},\n\t\t\t// 提交评论\n\t\t\tsubmitComment() {\n\t\t\t\twx.getStorage({\n\t\t\t\t\tkey: 'userId',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `http://62dde50d.r10.cpolar.top/api/Addcomments?userId=${res.data}`,\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tarticleId: this.id,\n\t\t\t\t\t\t\t\tcontent: this.content\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t// 添加评论成功后，清空评论内容\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '评论成功',\n\t\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.content = \"\"\n\t\t\t\t\t\t\t\tthis.getCommentList(this.id)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\t\tconsole.log('添加评论失败', err)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '评论失败，请稍后再试',\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请登录',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetArticle(id) {\n\t\t\t\t// 发送请求获取文章内容\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `http://62dde50d.r10.cpolar.top/api/article?id=${id}`,\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t// 请求成功则将文章内容赋值给 article 变量，同时将 loading 变量置为 false\n\t\t\t\t\t\tthis.article = res.data\n\t\t\t\t\t\t// console.log(\"后端响应的文章内容\"+res.data)\n\t\t\t\t\t\tthis.loading = false\n\t\t\t\t\t},\n\t\t\t\t\tfail: err => {\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetCommentList(id) {\n\t\t\t\t// 发送请求获取评论列表\n\t\t\t\twx.getStorage({\n\t\t\t\t\tkey: 'userId',\n\t\t\t\t\tsuccess: res1 => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `http://62dde50d.r10.cpolar.top/api/comments?id=${id}&userId=${res1.data}`,\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tres.data.forEach(item => {\n\t\t\t\t\t\t\t\t\t// 获取每个对象中的time字段\n\t\t\t\t\t\t\t\t\tvar time1 = item.time\n\t\t\t\t\t\t\t\t\t// 计算时间差并格式化时间\n\t\t\t\t\t\t\t\t\tvar date1 = new Date(time1.replace(/-/g, '/'))\n\t\t\t\t\t\t\t\t\tvar date2 = new Date()\n\t\t\t\t\t\t\t\t\tvar diff = date2.getTime() - date1.getTime()\n\t\t\t\t\t\t\t\t\tvar seconds = Math.floor(diff / 1000)\n\t\t\t\t\t\t\t\t\tvar minutes = Math.floor(seconds / 60)\n\t\t\t\t\t\t\t\t\tvar hours = Math.floor(minutes / 60)\n\t\t\t\t\t\t\t\t\tvar days = Math.floor(hours / 24)\n\t\t\t\t\t\t\t\t\tvar result = ''\n\t\t\t\t\t\t\t\t\tif (days > 0) {\n\t\t\t\t\t\t\t\t\t\tresult = days + '天前'\n\t\t\t\t\t\t\t\t\t} else if (hours > 0) {\n\t\t\t\t\t\t\t\t\t\tresult = hours + '小时前'\n\t\t\t\t\t\t\t\t\t} else if (minutes > 0) {\n\t\t\t\t\t\t\t\t\t\tresult = minutes + '分钟前'\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresult = seconds + '秒前'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// 修改每个对象中的time字段\n\t\t\t\t\t\t\t\t\titem.time = result\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t// 请求成功则将评论列表赋值给comments变量\n\t\t\t\t\t\t\t\tthis.comments = res.data\n\t\t\t\t\t\t\t\tconsole.log(this.comments)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: error => {\n\t\t\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail:err => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `http://62dde50d.r10.cpolar.top/api/comments?id=${id}&userId=0`,\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tres.data.forEach(item => {\n\t\t\t\t\t\t\t\t\t// 获取每个对象中的time字段\n\t\t\t\t\t\t\t\t\tvar time1 = item.time\n\t\t\t\t\t\t\t\t\t// 计算时间差并格式化时间\n\t\t\t\t\t\t\t\t\tvar date1 = new Date(time1.replace(/-/g, '/'))\n\t\t\t\t\t\t\t\t\tvar date2 = new Date()\n\t\t\t\t\t\t\t\t\tvar diff = date2.getTime() - date1.getTime()\n\t\t\t\t\t\t\t\t\tvar seconds = Math.floor(diff / 1000)\n\t\t\t\t\t\t\t\t\tvar minutes = Math.floor(seconds / 60)\n\t\t\t\t\t\t\t\t\tvar hours = Math.floor(minutes / 60)\n\t\t\t\t\t\t\t\t\tvar days = Math.floor(hours / 24)\n\t\t\t\t\t\t\t\t\tvar result = ''\n\t\t\t\t\t\t\t\t\tif (days > 0) {\n\t\t\t\t\t\t\t\t\t\tresult = days + '天前'\n\t\t\t\t\t\t\t\t\t} else if (hours > 0) {\n\t\t\t\t\t\t\t\t\t\tresult = hours + '小时前'\n\t\t\t\t\t\t\t\t\t} else if (minutes > 0) {\n\t\t\t\t\t\t\t\t\t\tresult = minutes + '分钟前'\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresult = seconds + '秒前'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// 修改每个对象中的time字段\n\t\t\t\t\t\t\t\t\titem.time = result\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t// 请求成功则将评论列表赋值给comments变量\n\t\t\t\t\t\t\t\tthis.comments = res.data\n\t\t\t\t\t\t\t\tconsole.log(this.comments)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: error => {\n\t\t\t\t\t\t\t\tconsole.error(error)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tlike() {\n\t\t\t\twx.getStorage({\n\t\t\t\t\tkey: 'userId',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: 'http://62dde50d.r10.cpolar.top/api/like',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tarticleId: this.id,\n\t\t\t\t\t\t\t\tuserId: res.data\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: res1 => {\n\t\t\t\t\t\t\t\tif (this.isLiked) {\n\t\t\t\t\t\t\t\t\tthis.isLiked = false\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.isLiked = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.getArticle(this.id)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\t\tconsole.log('点赞失败，错误信息：', err)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请登录',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetLike() {\n\t\t\t\twx.getStorage({\n\t\t\t\t\tkey: 'userId',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: 'http://62dde50d.r10.cpolar.top/api/like',\n\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tarticleId: this.id,\n\t\t\t\t\t\t\t\tuserId: res.data\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: res1 => {\n\t\t\t\t\t\t\t\tconsole.log('查询点赞，后端返回数据' + res1.data)\n\t\t\t\t\t\t\t\tthis.isLiked = res1.data\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\t\tconsole.log('查询点赞接口报错，错误信息：', err)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请登录',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tshare() {\n\t\t\t\t// 分享\n\t\t\t\t// 这里使用uni-app的分享功能，将文章内容进行分享\n\t\t\t\t let that = this;\n\t\t\t\t  return {\n\t\t\t\t    title: that.article.title,\n\t\t\t\t    imageUrl: that.article.src,\n\t\t\t\t    path: '/pages/article/index?id=' + that.id,\n\t\t\t\t  }\n\t\t\t},\n\t\t\tcollect(id) {\n\t\t\t\tconsole.log('发送收藏请求，id:' + id)\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'http://62dde50d.r10.cpolar.top/api/collect',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tconsole.log('收藏成功，响应结果：', res)\n\t\t\t\t\t\tif (this.isCollected) {\n\t\t\t\t\t\t\tthis.isCollected = false\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.isCollected = true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: err => {\n\t\t\t\t\t\tconsole.log('收藏失败，错误信息：', err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\ttoggleLike(comment) {\n\t\t\t\twx.getStorage({\n\t\t\t\t\tkey: 'userId',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: 'http://62dde50d.r10.cpolar.top/api/CommentLikes',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tcommentId: comment.id,\n\t\t\t\t\t\t\t\tuserId: res.data\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: res1 => {\n\t\t\t\t\t\t\t\tthis.getCommentList(this.id)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\t\tconsole.log('查询评论接口报错，错误信息：', err)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请登录',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.like-count {\n\t\tfont-size: 14px;\n\t\tcolor: #666;\n\t\tmargin-left: 5px;\n\t}\n\t/* .container {\n\tpadding: 10rpx;\n} */\n\t.icon-like:before {\n\t\tcontent: '\\2665'; /* 这是一个心形图标的 Unicode 码 */\n\t\tfont-size: 20px; /* 调整图标大小 */\n\t\tcolor: #999;\n\t}\n\n\t.icon-liked:before {\n\t\tcontent: '\\2665'; /* 这是一个心形图标的 Unicode 码 */\n\t\tfont-size: 20px; /* 调整图标大小 */\n\t\tcolor: red; /* 点赞时填充为红色 */\n\t}\n\t.icon-comment:before {\n\t\tcontent: '\\1F4AC'; /* 这是一个气泡图标的 Unicode 码 */\n\t\tfont-size: 20px; /* 调整图标大小 */\n\t\tcolor: #999;\n\t}\n\n\t.icon-commented:before {\n\t\tcontent: '\\1F4AC'; /* 这是一个气泡图标的 Unicode 码 */\n\t\tfont-size: 20px; /* 调整图标大小 */\n\t\tcolor: red; /* 点击评论按钮时填充为红色 */\n\t}\n\t.background {\n\t\t/* background-image: url('https://tuapi.eees.cc/api.php?category=dongman&type=302&px=pc'); */\n\t\tbackground-size: cover;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-position: center;\n\t\tborder: 1px solid gray;\n\t\tborder-radius: 5px;\n\t\tbox-shadow: 5px 5px 5px gray;\n\t}\n\n\t/* .container {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 20px;\n} */\n\n\t.loading {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 100vh;\n\t}\n\n\t.article {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmin-height: 100px;\n\n\t\t/* margin-top: 20px; */\n\t}\n\n\t.title {\n\t\tfont-family: Comic Sans MS;\n\t\tfont-size: 24px;\n\t\tfont-weight: bold;\n\t\tmargin: 10px 0;\n\t\tcolor: #000000;\n\t\ttext-align: center;\n\t}\n\n\t.actions {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin: 10px 0;\n\t}\n\n\t.action {\n\t\tmargin-right: 10px;\n\t}\n\n\t.action image {\n\t\twidth: 30px;\n\t\theight: 30px;\n\t}\n\n\t.comments {\n\t\twidth: 100%;\n\t\tborder: 1px solid gray;\n\t\tborder-radius: 5px;\n\t\tbox-shadow: 5px 5px 5px gray;\n\t\tmargin: 20px 0;\n\t\tmin-height: 100px;\n\t}\n\n\t.content {\n\t\tfont-family: Comic Sans MS;\n\t\tfont-size: 20px;\n\t\tline-height: 30px;\n\t\tcolor: #666;\n\t}\n\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t}\n\n\t.comment-list {\n\t\tflex: 1;\n\t\toverflow-y: scroll;\n\t}\n\n\t.comment-item {\n\t\tdisplay: flex;\n\t\tpadding: 10px;\n\t\tborder-bottom: 1px solid #eee;\n\t}\n\n\t.avatar {\n\t\twidth: 30px;\n\t\theight: 30px;\n\t\tborder-radius: 50%;\n\t}\n\n\t.content {\n\t\tflex: 1;\n\t\tmargin-left: 10px;\n\t\t/* 设置一个固定的高度 */\n\t\t/* 设置溢出内容的显示方式 */\n\t\toverflow: hidden;\n\t}\n\n\t.nickname {\n\t\tfont-size: 16px;\n\t\tfont-weight: bold;\n\t}\n\n\t.text {\n\t\tmargin-top: 5px;\n\t\tfont-size: 20px;\n\t}\n\n\t.images {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin-top: 5px;\n\t}\n\n\t.image-item {\n\t\twidth: calc(33.33% - 10px);\n\t\theight: calc(33.33% - 10px);\n\t\tmargin-right: 5px;\n\t\tmargin-bottom: 5px;\n\t}\n\n\t.actions {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-top: 5px;\n\t}\n\n\t.time {\n\t\tfont-size: 15px;\n\t\tcolor: #999;\n\t}\n\n\t.buttons {\n\t\tdisplay: flex;\n\t}\n\n\t.button-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-left: 10px;\n\t}\n\n\t.iconfont {\n\t\tfont-size: 18px;\n\t}\n\n\t.icon-like {\n\t\tcolor: #999;\n\t}\n\n\t.icon-liked {\n\t\tcolor: #f00;\n\t}\n\n\t.comment-input {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 10px;\n\t\tborder-top: 1px solid #eee;\n\t}\n\n\tinput {\n\t\tflex: 1;\n\t\theight: 40px;\n\t\tpadding: 0 10px;\n\t\tborder: 1px solid #ccc;\n\t\tborder-radius: 20px;\n\t}\n\n\tbutton {\n\t\theight: 40px;\n\t\tmargin-left: 10px;\n\t\tbackground-color: #0099ff;\n\t\tcolor: #fff;\n\t\tborder-radius: 20px;\n\t}\n</style>\n","import mod from \"-!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./intro.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\WXIDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./intro.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1681311098395\n      var cssReload = require(\"D:/WXIDE/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}